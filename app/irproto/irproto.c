#include "irproto.h"
#include "c_stdio.h"
#include "platform.h"

// usec:
// example 48989587,9107,4495,614,553,613,549,616,551,613,552,613,552,612,554,612,553,612,552,613,1665,585,1665,586,1664,587,1638,611,1640,611,1664,585,1639,611,1665,586,1664,586,554,611,553,613,1664,586,1664,587,552,613,551,614,553,612,552,614,1664,586,1664,587,552,613,553,612,1640,611,1640,611,1640,609,39669,9121,2221,611
// example 12608055,9122,4496,613,552,615,551,614,553,612,551,615,552,614,552,614,552,614,550,616,1664,586,1664,588,1640,610,1664,587,1664,587,1640,611,1638,613,1640,611,1664,587,1639,612,1664,587,552,613,552,614,552,614,1664,587,552,613,553,613,553,613,552,613,1665,587,1664,586,1639,613,551,613,1643,610
// 57419939,9117,4498,612,553,613,551,614,555,611,552,613,552,614,553,612,553,613,551,613,1642,610,1640,611,1641,609,1641,610,1638,613,1665,586,1664,587,1640,610,1665,586,552,614,1663,587,552,613,553,613,554,611,1664,587,551,613,554,612,1665,586,553,613,1664,587,1664,586,1642,609,553,612,1664,586
uint32 ir_recv_nec(uint32 state, uint32 level, uint32 usec, uint32_t *data, int8_t *len, int8_t *ready)
{
  c_printf("time:%d", usec);
  platform_gpio_write(4, (level&1) ? PLATFORM_GPIO_HIGH : PLATFORM_GPIO_LOW );
  return state;
}
